import{s as c}from"./service-P8kc4j81.js";import{_ as n,G as m,r as l,o as s,c as u,w as d,a as f,b as a,t as _,e as r}from"./index-CampbdA2.js";const h={name:"Tautulli",mixins:[c],props:{item:Object},components:{Generic:m},data:()=>({stats:null,error:!1}),computed:{streams:function(){return this.stats?this.stats.stream_count:""}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){try{const t=await this.fetch(`/api/v2?apikey=${this.item.apikey}&cmd=get_activity`);this.error=!1,this.stats=t.response.data}catch(t){this.error=!0,console.error(t)}}}},p={class:"notifs"},y=["title"],k={key:1,class:"notif error fa-solid fa-triangle-exclamation",title:"Unable to fetch current status"};function v(t,g,i,x,B,e){const o=l("Generic");return s(),u(o,{item:i.item},{indicator:d(()=>[f("div",p,[e.streams>0?(s(),a("strong",{key:0,class:"notif playing",title:`${e.streams} active stream${e.streams>1?"s":""}`},_(e.streams),9,y)):r("",!0),t.error?(s(),a("i",k)):r("",!0)])]),_:1},8,["item"])}const w=n(h,[["render",v],["__scopeId","data-v-1a1682d5"]]);export{w as default};
